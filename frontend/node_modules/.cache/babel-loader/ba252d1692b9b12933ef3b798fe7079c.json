{"ast":null,"code":"var _jsxFileName = \"/Users/spencerblum/Development/projects/OpenCare/frontend/src/main/Review.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport swal from 'sweetalert';\n\nclass ReviewCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formValue: \"\",\n      ratingValue: 5\n    };\n\n    this.handleRating = e => {\n      this.setState({\n        ratingValue: e.target.value\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        formValue: e.target.value\n      });\n    };\n\n    this.handleSubmit = () => {\n      if (this.state.formValue == \"\" || this.state.ratingValue == \"\") {\n        // swal(\"Must have Rating and Written Review\")\n        swal({\n          text: \"A review must have rating and written review\",\n          icon: \"star\"\n        }); // swal(\"Good job!\", \"Must have Rating and Written Review!\", \"success\");\n      } else if (this.props.currentUser === null) {\n        swal(\"Sign in to write a review\");\n      } else {\n        let data = {\n          formValue: this.state.formValue,\n          ratingValue: this.state.ratingValue,\n          currentUser: this.props.currentUser.id,\n          currentBusiness: this.props.currentBusiness.id\n        };\n        fetch('http://localhost:3000/review/new', {\n          method: 'POST',\n          // or 'PUT'\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(response => response.json()).then(data => {\n          console.log('Success:', data);\n        }).catch(error => {\n          console.error('Error:', error);\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, \"Write a Review\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.handleRating,\n      value: this.state.ratingValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }\n    }, \"5\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      onChange: e => this.handleChange(e),\n      rows: \"20\",\n      cols: \"60\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }\n    }, \" Submit \"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentBusiness: state.currentBusiness,\n    currentUser: state.currentUser\n  };\n};\n\nexport default connect(mapStateToProps)(ReviewCard);","map":{"version":3,"sources":["/Users/spencerblum/Development/projects/OpenCare/frontend/src/main/Review.js"],"names":["React","Component","connect","swal","ReviewCard","state","formValue","ratingValue","handleRating","e","setState","target","value","handleChange","handleSubmit","text","icon","props","currentUser","data","id","currentBusiness","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","catch","error","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\n\nimport { connect } from 'react-redux'\n\nimport swal from 'sweetalert';\n\nclass ReviewCard extends Component {\n\n    state = {\n        formValue: \"\",\n        ratingValue: 5\n     }\n\n\n     handleRating = (e) => {\n        this.setState({ratingValue: e.target.value})\n    }\n\n    handleChange = (e) => {\n        this.setState({formValue: e.target.value})\n    }\n\n\n    handleSubmit= ()=> {\n        if(this.state.formValue ==\"\" || this.state.ratingValue ==\"\" ){\n            // swal(\"Must have Rating and Written Review\")\n            swal({ \n                text: \"A review must have rating and written review\",\n                icon: \"star\"\n        })\n            // swal(\"Good job!\", \"Must have Rating and Written Review!\", \"success\");\n        } else if (this.props.currentUser === null){\n            swal(\"Sign in to write a review\")\n        } else {\n\n\n            let data = {\n                formValue: this.state.formValue,\n                ratingValue: this.state.ratingValue,\n                currentUser: this.props.currentUser.id,\n                currentBusiness: this.props.currentBusiness.id\n\n            }\n\n            fetch('http://localhost:3000/review/new', {\n            method: 'POST', // or 'PUT'\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data),\n            })\n            .then(response => response.json())\n            .then(data => {\n            console.log('Success:', data);\n\n            })\n            .catch((error) => {\n            console.error('Error:', error);\n            });\n        }\n    }\n\n    render(){\n    return(\n        <div>\n    Write a Review \n    <br/>\n\n    <select onChange={this.handleRating} value = {this.state.ratingValue} >\n    <option value=\"1\">1</option>\n    <option value=\"2\">2</option>\n    <option value=\"3\">3</option>\n    <option value=\"4\">4</option>\n    <option value=\"5\">5</option>\n    </select>\n    <br/>\n    <textarea onChange={(e) =>this.handleChange(e)}  rows=\"20\" cols=\"60\"  /> \n    <br/>\n    <button onClick={this.handleSubmit} > Submit </button> \n\n        </div>\n    )\n    }\n}\n\nconst mapStateToProps = state =>  {\n    return { \n        currentBusiness: state.currentBusiness,\n        currentUser: state.currentUser\n    \n    }\n}\n\n\n\nexport default connect(mapStateToProps)(ReviewCard);"]},"metadata":{},"sourceType":"module"}